@import models.user.User
@import utility.UserConstants
@import helpers.SessionHelper
@(postForm: Form[Post])(currentUser: User)
@main("Publish post") {

    @helper.form(action = controllers.posts.routes.PostController.savePost(), 'class -> "form-horizontal", 'role -> "form", 'enctype -> "multipart/form-data") {


        <legend>Create new post</legend>
        <div class="form-group">

            <div class="form-group">
                <label for="title" class="col-lg-2 control-label">
                    Title<abbr class="req" title="Please select due date." style="color : red"> * </abbr></label>
                <div class="col-lg-6">
                    <input name="title" type="text" pattern="[\w]{3,}" class="form-control" id="title" placeholder="Write post title here." required>
                </div>
            </div>


            <div class="form-group">

            @if(currentUser != null && currentUser.getRoles.size() > 0 && currentUser.getRoles != null) {
                @for(role <- currentUser.getRoles) {
                    @if(role.getId.equals(UserConstants.TEACHER)) {
                    <div>
                        <label  class="col-lg-2 control-label">Due date</label>

                        <div class="col-lg-2">
                            <input name="date" type="text"  max="9999-01-01" class="form-control" id="date" placeholder="Select date" style="cursor: pointer">
                        </div>

                        <div class="col-lg-2">
                            <input name="time" type="time" class="form-control" id="time" style="cursor: pointer" >
                        </div>
                    </div>
                    }
                }

            }


            </div>

            <div class="form-group">
                <label for="textArea" class="col-lg-2 control-label">
                    Content<abbr class="req" title="Please select due date." style="color : red"> * </abbr></label>
                <div class="col-lg-8">
                    <textarea name="content" data-p class="form-control" rows="5" id="textArea" style="width: 74%"  placeholder="Write post content here." required></textarea>
                </div>
            </div>

            <div class="form-group">
                <label for="link" class="col-lg-2 control-label">Add link</label>
                <div class="col-lg-6">
                    <input name="link" type="url" class="form-control" id="link" placeholder="https://www." pattern="(https?://(www.)?)?[a-z]{3,}\.[\w]{2,6}(/[\w\.\?\!\=\:\%\#/-]+)?">
                </div>
            </div>

            <div class="form-group">
                <label for="files" class="col-lg-2 control-label">Add files</label>
                <div class="col-lg-4">
                    <input type="file" name="files" accept="" multiple class="form-control" id="files">
                </div>
            </div>

            @if(currentUser != null && currentUser.getRoles.size() > 0 && currentUser.getRoles != null) {
                @for(role <- currentUser.getRoles) {
                    @if(role.getId.equals(UserConstants.TEACHER)) {

                        <label class="col-lg-2 control-label">
                            Please select post type<abbr class="req" title="Please select due date." style="color : red">
                            * </abbr></label>
                        <div class="col-lg-6">
                            <div class="radio">
                                <label>
                                    <input name="post-type" type="radio" name="optionsRadios" id="optionsRadios1" value="0" checked required>
                                    Announcement
                                </label>

                                <label class="col-lg-offset-1">
                                    <input name="post-type" type="radio" name="optionsRadios" id="optionsRadios2" value="1" required>
                                    Assignment
                                </label>
                            </div>
                        </div>

                    </div>

        <div class="form-group">
            <div class="col-lg-offset-8">


                <label><input name="visible" type="checkbox"> Visible to mentors</label>

            </div>
        </div>

    }
    }

    }


        <div class="form-group">
            <div class="col-lg-10 col-lg-offset-2">
                <button type="reset" class="btn btn-default">Clear all</button>
                <button type="submit" class="btn btn-primary focus" href="@controllers.posts.routes.PostController.savePost()">
                    Publish</button>
            </div>
        </div>
    }

}


